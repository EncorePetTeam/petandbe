# Petandbe

## Intro

- 이 프로젝트는 클라이언트의 needs에 적절한 반려동물 호텔, 유치원의 정보를 제공하는 사이트 제작을 목표로 합니다.

## Planning Background

- 야놀자나 여기어때에는 반려동물과 함께 여행을 갈 수 있는 반려동물 동반 펜션은 있었지만, 반려동물만 맡길 수 있는 호텔이나 유치원 같은 카테고리는 없었다. 반려동물과 함께 생활하는 1인 가구, 혹은 집을 자주 비워야 하는 분들을 위한 서비스를 제공하기 위해 해당 플랫폼을 개발하게 되었다.
- 또한 해외여행이나 긴 시간 여행을 떠나는 사람에게도 충분히 수요가 있다. 여행을 떠나기 위해선 우리 반려동물이 있어야 하는 장소를 찾아야 하는데, 이러한 문제를 호텔이나 편센을 예약하듯 간편하게 할 수 있도록 하는 플랫폼을 목표로 했다.

## Period

2022.11.14 ~

## Members

<table>
    <tr>
        <td>
            <a href="https://github.com/HunkiKim">
               <img src="https://avatars.githubusercontent.com/u/66348135?v=4" width="100px" />
            </a>
        </td>
        <td>
            <a href="https://github.com/Kimsunfang">
                <img src="https://avatars.githubusercontent.com/u/108983092?v=4" width="100px"/>
            </a>
        </td>
        <td>
            <a href="https://github.com/12OneTwo12">
                <img src="https://avatars.githubusercontent.com/u/105261146?v=4" width="100px" />
            </a>
        </td>
        <td align="center">
            <a href="https://github.com/hangjoo">
               <img src="https://avatars.githubusercontent.com/u/58524387?v=4" width="100px" />
            </a>
        </td>
    </tr>
    <tr>
        <td align="center"><a href="https://github.com/HunkiKim">김훈기</a></td>
        <td align="center"><a href="https://github.com/Kimsunfang">김성호</a></td>
        <td align="center"><a href="https://github.com/12OneTwo12">정정일</a></td>
        <td align="center"><a href="https://github.com/hangjoo">장형주</a></td>
    </tr>
    <tr>
        <td align="center"><a>Backend</a></td>
        <td align="center"><a>Backend</a></td>
        <td align="center"><a>Backend</a></td>
        <td align="center"><a>DevOps</a></td>
    </tr>
</table>

## Architecture

![petandbe drawio](https://user-images.githubusercontent.com/66348135/210694150-3e96dc34-7289-470f-b891-d65783edbd29.png)

## Used Tools

### Application

<a href="https://openjdk.org/projects/jdk/11/"><img src="https://img.shields.io/badge/JAVA 11-007396?style=for-the-badge&logo=Java&logoColor=white"/></a>
 <a href="https://gradle.org/"><img src="https://img.shields.io/badge/Gradle 7.5.1-02303A?style=for-the-badge&logo=Gradle&logoColor=white"></a>
 <a href="https://spring.io/projects/spring-boot/"><img src="https://img.shields.io/badge/Spring Boot 2.7.0-6DB33F?style=for-the-badge&logo=Spring Boot&logoColor=white"></a>
 <a href="https://spring.io/projects/spring-data-jpa"><img src="https://img.shields.io/badge/Spring Data Jpa-6DB33F?style=for-the-badge&logo=Spring Data Jpa&logoColor=white"></a>
 <a href="http://querydsl.com/"><img src="https://img.shields.io/badge/Query Dsl 5.0-6DB33F?style=for-the-badge&logo=Query DSL&logoColor=white"></a>

### Test

<a href="https://junit.org/junit5/"><img src="https://img.shields.io/badge/JUnit5-25A162?style=for-the-badge&logo=JUnit5&logoColor=white"></a>
 <a href="https://site.mockito.org/"><img src="https://img.shields.io/badge/Mockito-25A162?style=for-the-badge&logo=Mockito&logoColor=white"></a>

### Database

<a href="https://www.mysql.com/"><img src="https://img.shields.io/badge/MySql 8-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"></a>
 <a href="https://redis.io/"><img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=white"></a>

### Docs

<a href="https://swagger.io/"><img src="https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=black"></a>
 <a href="https://spring.io/projects/spring-restdocs"><img src="https://img.shields.io/badge/Spring Rest Docs-6DB33F?style=for-the-badge&logo=Read The Docs&logoColor=white"></a>

### Cloud

<a href="https://aws.amazon.com/ko/?nc2=h_lg"><img src="https://img.shields.io/badge/EC2-FF9900?style=for-the-badge&logo=Amazon EC2&logoColor=white"></a>
 <a href="https://aws.amazon.com/ko/?nc2=h_lg"><img src="https://img.shields.io/badge/Route53-782A90?style=for-the-badge&logo=&logoColor=white"></a>

### Infra

<a href="https://docs.docker.com/get-docker/"><img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white"></a>
 <a href="https://docs.docker.com/compose/install/"><img src="https://img.shields.io/badge/Docker Compose-2496ED?style=for-the-badge&logo=Docker&logoColor=white"></a>
 <a href="https://www.nginx.com/"><img src="https://img.shields.io/badge/NGinx-009639?style=for-the-badge&logo=Nginx&logoColor=white"></a>

### Communication

<a href="https://github.com/"><img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"></a>
 <a href="https://slack.com/intl/ko-kr/"><img src="https://img.shields.io/badge/slack-4A154B?style=for-the-badge&logo=slack&logoColor=white"></a>
 <a href="https://www.notion.so/"><img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white"></a>

## Git Strategy

- git flow 전략 사용
- feature 브랜치 생성 기준은 큰 기능 단위로 → 로그인 / 채팅 / …
  - 생성된 feature 브랜치에서 세부 기능 단위로 새롭게 브랜치 체크아웃 후 해당 브랜치에서 세부 기능 구현
- issue 또한 기능 단위로 생성 후 PR에 이슈번호 연동
- 세부 기능 구현 완료 후 개인 로컬 환경에서 테스트 후 feature 브랜치에 PR 머지
- 세부 기능이 모두 구현 완료되어 큰 기능 구현이 완료된 경우 feature 브랜치에 머지된 커밋들 정리
  - 커밋은 issue 이름과 같도록 하며 기존에 하던 커밋들은 squash를 통해 아래에 명시 or PR에 명시

![스크린샷 2022-12-15 12 19 57](https://user-images.githubusercontent.com/66348135/207764903-3d812cf3-a569-4e6a-8c63-a99cd12d5012.png)

<p align="center">Git-flow Example</p>

## How to run

### 1. Reveal secret files

`git secret reveal` 명령어를 사용하기 위해서는 먼저 GPG 키가 git secret에 추가된 상태여야 합니다.  
관련 문서는 노션에 `ops/git secret` 문서로 정리해두었으니 참고 바랍니다.

```bash
git secret reveal
```

### 2. Build image

```bash
docker-compose -f docker-compose.yml build
```

### 3. Run docker-compose

```bash
docker-compose -f docker-compose.yml up -d
```

### 4. Status Check

```bash
# Check nginx health status.
# You will receive 'status ok' text and 200 status when nginx is running.
curl -X GET http://localhost:80/nginx-healthz

# Check app(spring) health status.
# You will receive 'Success' text and 200 status when spring app is running.
curl -X GET http://localhost:80/healthz
```

## Wiki

- [Git Workflow](https://fork-hound-0c2.notion.site/Git-Worflow-c2bbf00ce4574540b5706a3f15cb0771)
- [Our Information](https://fork-hound-0c2.notion.site/a49ab997157a4abb98c08069a6d002cc)
- [Documents](https://fork-hound-0c2.notion.site/5e74039e402d4351ade9f92329f310ea)
